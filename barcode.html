<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Barcode - Een Barcode</title>
<style>
body {
  margin:0; padding:20px; text-align:center;
  background:url('anime2.jpg') no-repeat center center fixed;
  background-size:cover;
  font-family:Arial, sans-serif; color:white;
}
h1 { text-shadow:2px 2px 6px black; }
#barcodeContainer { margin-top:20px; }
button {
  margin:15px; padding:10px 20px;
  border:none; border-radius:5px;
  background:linear-gradient(135deg,#36d1dc,#5b86e5);
  color:white; font-weight:bold; cursor:pointer;
}
</style>
</head>
<body>
  <h1 id="title">Barcode</h1>
  <div>
    <button onclick="goBack()">⬅️ Kembali</button>
  </div>
  <div id="barcodeContainer"></div>

<script src="https://cdn.jsdelivr.net/npm/qrious/dist/qrious.min.js"></script>
<script>
function getParam(name) {
  return new URLSearchParams(window.location.search).get(name);
}

function goBack(){
  window.location.href="menu.html";
}

const type = getParam("type");
const file = (type==="pertalite") ? "datapertalite.csv" : "datasolar.csv";
document.getElementById("title").innerText = "Barcode " + (type==="pertalite"?"Pertalite":"Biosolar");

// baca CSV dan tampilkan barcode
fetch(file)
  .then(res => res.text())
  .then(text => {
    const lines = text.trim().split("\n");
    lines.forEach((line,i)=>{
      const qr = new QRious({ value: line, size: 180 });
      const div = document.createElement("div");
      div.innerHTML = `<p>Data ${i+1}</p>`;
      div.appendChild(qr.image);
      document.getElementById("barcodeContainer").appendChild(div);
    });
  });
</script>
</body>
</html>
